{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"GeekHomeInside Docker based Home toolbox, see the Documentation for informations.","title":"Index"},{"location":"#geekhomeinside","text":"Docker based Home toolbox, see the Documentation for informations.","title":"GeekHomeInside"},{"location":"architecture/","text":"Architecture Components Components Usage Gitlab Source code management Continuous integration / delivery Work planning Issue tracking Portainer Container management RocketChat Instant chat (Slack like) Grafana Monitoring Prometheus Metrics scraping / store CAdvisor Container metrics Node exporter System metrics Sonarqube Continuous Inspection Traefik Dynamic reverse proxy Playbooks release.yml Package an Allspark release in a .tar.gz file setup.yml Load a packaged Allspark release into the system install.yml Install Allspark on the machine (either with an internet access or after using setup.yml playbook)","title":"Architecture"},{"location":"architecture/#architecture","text":"","title":"Architecture"},{"location":"architecture/#components","text":"Components Usage Gitlab Source code management Continuous integration / delivery Work planning Issue tracking Portainer Container management RocketChat Instant chat (Slack like) Grafana Monitoring Prometheus Metrics scraping / store CAdvisor Container metrics Node exporter System metrics Sonarqube Continuous Inspection Traefik Dynamic reverse proxy","title":"Components"},{"location":"architecture/#playbooks","text":"release.yml Package an Allspark release in a .tar.gz file setup.yml Load a packaged Allspark release into the system install.yml Install Allspark on the machine (either with an internet access or after using setup.yml playbook)","title":"Playbooks"},{"location":"configuration/","text":"Configuration Group_vars Edit the file group_vars/all.yml to fit with your needs, like: The allspark_root_domain to use your domain name (each component will be exposed as a subdomain). The allspark_docker_version to choose the docker version you want. Enable or disable component using their enabled boolean toggle. Enable or disable certificates option using their enable boolean Toggle. You can set all you want for the self-signed use. allspark_monitoring : enabled : true allspark_traefik : selfsigned : enabled : false # For example country : FR country : XX state : state location : city organisation : myteam organizational_unit : myorganizational_unit common_name : \"*.{{ allspark_root_domain }}\" Downloads Note You can customize the image or tag for a component by overriding the component_image and component_tag , using either : Ansible extra vars Add those variables to your group_vars/all.yml file. e.g : gitlab # Change gitlab-ce to gitlab-ee gitlab_image : gitlab_ee gitlab_tag : latest You can access the complete list of available components in the roles/downloads/defaults/main.yml file.","title":"Configuration"},{"location":"configuration/#configuration","text":"","title":"Configuration"},{"location":"configuration/#group_vars","text":"Edit the file group_vars/all.yml to fit with your needs, like: The allspark_root_domain to use your domain name (each component will be exposed as a subdomain). The allspark_docker_version to choose the docker version you want. Enable or disable component using their enabled boolean toggle. Enable or disable certificates option using their enable boolean Toggle. You can set all you want for the self-signed use. allspark_monitoring : enabled : true allspark_traefik : selfsigned : enabled : false # For example country : FR country : XX state : state location : city organisation : myteam organizational_unit : myorganizational_unit common_name : \"*.{{ allspark_root_domain }}\"","title":"Group_vars"},{"location":"configuration/#downloads","text":"Note You can customize the image or tag for a component by overriding the component_image and component_tag , using either : Ansible extra vars Add those variables to your group_vars/all.yml file. e.g : gitlab # Change gitlab-ce to gitlab-ee gitlab_image : gitlab_ee gitlab_tag : latest You can access the complete list of available components in the roles/downloads/defaults/main.yml file.","title":"Downloads"},{"location":"install/","text":"Installation guide Requirements On the allspark machine Docker ( tested with version 18.06 ) On the control machine Ansible ( tested with version 2.5.5 ) Ansible playbook Edit the file group_vars/all.yml to fit with your needs, like: The allspark_root_domain to use your domain name (each component will be exposed as a subdomain). Enable or disable component using their enabled boolean toggle Note You can customize the image or tag for a component by overriding the component_image and component_tag , using either : Ansible extra vars Add those variables to your group_vars/all.yml file. e.g : (group_vars) # Change gitlab-ce to gitlab-ee gitlab_image : gitlab_ee gitlab_tag : latest You can access the complete list of available components in the roles/downloads/defaults/main.yml file. Warning For offline install, the images configuration must be the same on both end. If you are on a migration see the operation pages If you are on a migration see the operation pages Online install Change the hosts file to point to the allspark machine. ansible-playbook -i hosts install.yml At this point, you will be able to see component show up along with their access URL at ingress.YOUR_ROOT_DOMAIN . Offline install 0. On the online control machine Note Change the allspark_release_destination and allspark_release_tmp_directory to point to somwhere with at least 10Go of free space Bash ansible-playbook -i hosts release.yml hosts [all] localhost ansible_connection = local it will generate a .tar.gz file at allspark_release_destination . This file needs to be copied along with the group_vars directory to the offline allspark machine. 1. On the offline allspark machine Import the group_vars directory and the relase .tar.gz Set the allspark_release_destination in the group_vars/all.yml file to point to the release. Set the allspark_release_tmp_directory to point to somwhere with at least 10Go of free space Bash ansible-playbook -i hosts setup.yml ansible-playbook -i hosts install.yml hosts [all] localhost ansible_connection = local Warning This playbook does not setup the system yet. The release is packaged along with CentOS RPM dependencies as well as pip wheels, but you will however have to install them yourself.","title":"Install"},{"location":"install/#installation-guide","text":"","title":"Installation guide"},{"location":"install/#requirements","text":"","title":"Requirements"},{"location":"install/#on-the-allspark-machine","text":"Docker ( tested with version 18.06 )","title":"On the allspark machine"},{"location":"install/#on-the-control-machine","text":"Ansible ( tested with version 2.5.5 )","title":"On the control machine"},{"location":"install/#ansible-playbook","text":"Edit the file group_vars/all.yml to fit with your needs, like: The allspark_root_domain to use your domain name (each component will be exposed as a subdomain). Enable or disable component using their enabled boolean toggle Note You can customize the image or tag for a component by overriding the component_image and component_tag , using either : Ansible extra vars Add those variables to your group_vars/all.yml file. e.g : (group_vars) # Change gitlab-ce to gitlab-ee gitlab_image : gitlab_ee gitlab_tag : latest You can access the complete list of available components in the roles/downloads/defaults/main.yml file. Warning For offline install, the images configuration must be the same on both end. If you are on a migration see the operation pages If you are on a migration see the operation pages","title":"Ansible playbook"},{"location":"install/#online-install","text":"Change the hosts file to point to the allspark machine. ansible-playbook -i hosts install.yml At this point, you will be able to see component show up along with their access URL at ingress.YOUR_ROOT_DOMAIN .","title":"Online install"},{"location":"install/#offline-install","text":"","title":"Offline install"},{"location":"install/#0-on-the-online-control-machine","text":"Note Change the allspark_release_destination and allspark_release_tmp_directory to point to somwhere with at least 10Go of free space Bash ansible-playbook -i hosts release.yml hosts [all] localhost ansible_connection = local it will generate a .tar.gz file at allspark_release_destination . This file needs to be copied along with the group_vars directory to the offline allspark machine.","title":"0. On the online control machine"},{"location":"install/#1-on-the-offline-allspark-machine","text":"Import the group_vars directory and the relase .tar.gz Set the allspark_release_destination in the group_vars/all.yml file to point to the release. Set the allspark_release_tmp_directory to point to somwhere with at least 10Go of free space Bash ansible-playbook -i hosts setup.yml ansible-playbook -i hosts install.yml hosts [all] localhost ansible_connection = local Warning This playbook does not setup the system yet. The release is packaged along with CentOS RPM dependencies as well as pip wheels, but you will however have to install them yourself.","title":"1. On the offline allspark machine"},{"location":"operation/","text":"","title":"Operation"},{"location":"roadmap/","text":"","title":"Roadmap"},{"location":"troubleshooting/","text":"","title":"Troubleshooting"}]}